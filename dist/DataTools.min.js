var DataTools=function(a,b){function c(a){e(a),d(this.config)}function d(a){f(a.flashPath);var b=setInterval(function(){h(b,a)},100)}function e(a){this.config=b.extend(i,a)}function f(a){var c=b(l),d=b(m).attr("src",a);b("body").append(c.append(d))}function g(a,c,d,e){var f=b("#js-data-tools"),g=b("#fs-data-tools"),h={width:d,height:e};f.css(h).css({left:a,top:c}),g.css(h)}function h(a,b){if(j){var c=document.getElementById("fs-data-tools");c.setFileName(b.fileName),c.setData(b.data),clearInterval(a)}}var i={flashPath:"",fileName:"default.csv",data:""},j=!1,k=".js-export-btn",l='<div id="js-data-tools" style="position: absolute; width: 0; height: 0; z-index: 99999;"></div>',m='<embed width="0" height="0" quality="high" bgcolor="#ffffff" name="fs-data-tools" id="fs-data-tools" wmode="transparent" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />';return a.setState=function(){j=!0},b(k).unbind("mouseover"),b(k).unbind("click"),b("body").on("mouseover",k,function(a){var b=a.target;g(b.offsetLeft,b.offsetTop,b.clientWidth,b.clientHeight)}),c.prototype.configure=e,c}(window,jQuery);
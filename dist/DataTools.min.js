var DataTools=function(a,b){function c(a){this.config=b.extend(h,a),d(this.config)}function d(a){e(a.flashPath);var b=setInterval(function(){g(b,a)},100)}function e(a){var c=b(k),d=b(l).attr("src",a);b("body").append(c.append(d))}function f(a,c,d,e){var f=b("#js-data-tools"),g=b("#fs-data-tools"),h={position:"absolute","z-index":"99999",width:d,height:e};f.css(h).css({left:a,top:c}),g.css(h)}function g(a,b){if(i){var c=document.getElementById("fs-data-tools");c.setFileName(b.fileName),c.setData(b.data),clearInterval(a)}}var h={flashPath:"",fileName:"default.csv",data:""},i=!1,j=".js-export-btn",k='<div id="js-data-tools" style="position: absolute; width: 0; height: 0; z-index: 99999;"></div>',l='<embed width="0" height="0" quality="high" bgcolor="#ffffff" name="fs-data-tools" id="fs-data-tools" wmode="transparent" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />',f=function(a,c,d,e){var f=b("#js-data-tools"),g=b("#fs-data-tools"),h={width:d,height:e};f.css(h).css({left:a,top:c}),g.css(h)};return a.setState=function(){i=!0},b(j).unbind("mouseover"),b(j).unbind("click"),b("body").on("mouseover",j,function(a){var b=a.target;f(b.offsetLeft,b.offsetTop,b.clientWidth,b.clientHeight)}),c}(window,jQuery);